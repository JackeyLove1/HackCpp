# 9.1 回顾变量初始化

在介绍列表初始化之前，让我们先回顾一下初始化变量的传统方法。其中常见的是使用括号和等号在变量声明时对其初始化，例如：

```c
struct C {
    C(int a) {}
};
int main()
{
    int x = 5;
    int x1(8);
    C x2 = 4;
    C x3(4);
}
```

一般来说，我们称使用括号初始化的方式叫作直接初始化，而使用等号初始化的方式叫作拷贝初始化（复制初始化）。请注意，这里使用等号对变量初始化并不是调用等号运算符的赋值操作。实际情况是，等号是拷贝初始化，调用的依然是直接初始化对应的构造函数，只不过这里是隐式调用而已。如果我们将C(int a)声明为explicit，那么C x2 = 4就会编译失败。

使用括号和等号只是直接初始化和拷贝初始化的代表，还有一些经常用到的初始化方式也属于它们。比如new运算符和类构造函数的

初始化列表就属于直接初始化，而函数传参和return返回则是拷贝初始化。前者比较好理解，后者可以通过具体的例子来理解：

```c
include <map>   
struct C{ C(int a){} };   
void foo(Cc){} Cbar(){ return 5; } int main() { foo(8); //拷贝初始化 Cc  $\equiv$  bar(); //拷贝初始化 }
```

这段代码中foo函数的传参和bar函数的返回都调用了隐式构造函数，是一个拷贝初始化。

