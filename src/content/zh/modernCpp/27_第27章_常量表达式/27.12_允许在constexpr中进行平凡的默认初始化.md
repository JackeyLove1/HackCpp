# 27.12 允许在constexpr中进行平凡的默认初始化

从C++20开始，标准允许在constexpr中进行平凡的默认初始化，这样进一步减少constexpr的特殊性。例如：

```txt
struct X {
    bool val;
};  
void f() {
    X x;
}  
f();
```

上面的代码非常简单，在任何环境下都可以顺利编译。不过如果将函数f改为：

```txt
constexprvoidf(){ Xx; }
```

那么在  $\mathrm{C} + + 17$  标准的编译环境就会报错，提示x没有初始化，它需要用户提供一个构造函数。当然这个问题在  $\mathrm{C} + + 17$  标准中也很容易解决，例如修改x为：

```txt
struct X {
    bool val = false;
};
```

回头来看原始代码，它在C++20标准的编译器上是能够顺利编译的。值得一提的是，虽然标准放松了对constexpr上下文对象默认初

初始化的要求，但是我们依然应该养成声明对象时随手初始化的习惯，避免让代码出现未定义的行为。

