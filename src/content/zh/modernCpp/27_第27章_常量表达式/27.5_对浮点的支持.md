# 27.5 对浮点的支持

在constexpr说明符被引入之前，C++程序员经常使用enum hack来促使编译器在编译阶段计算常量表达式的值。但是因为enum只能操作整型，所以一直无法完成对于浮点类型的编译期计算。constexpr说明符则不同，它支持声明浮点类型的常量表达式值，而且标准还规定其精度必须至少和运行时的精度相同，例如：

```txt
constexpr double sum(double x)   
{ return  $\mathbf{x} > 0?\mathbf{x} + \mathbf{sum}(\mathbf{x} - 1):0;$    
}   
constexpr double  $\mathbf{x} = \mathrm{sum}(5)$
```

