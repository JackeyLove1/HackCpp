# 3.5 lambda表达式中使用auto类型推导

在C++14标准中我们还可以把auto写到lambda表达式的形参中，这样就得到了一个泛型的lambda表达式，例如：

```javascript
auto  $1 = []$  (auto a1, auto a2) { return a1 + a2; };  
auto retval = 1(5, 5.0);
```

在上面的代码中a1被推导为int类型，a2被推导为double类型，返回值retval被推导为double类型。

让我们看一看lambda表达式返回auto引用的方法:

```txt
auto l = [] (int &i) -> auto & { return i; };  
auto x1 = 5;  
auto &x2 = l(x1);  
assert (&x1 == &x2); // 有相同的内存地址
```

起初在后置返回类型中使用auto是不允许的，但是后来人们发现，这是唯一让lambda表达式通过推导返回引用类型的方法了。

