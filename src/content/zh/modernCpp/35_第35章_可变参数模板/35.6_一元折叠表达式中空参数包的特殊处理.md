# 35.6 一元折叠表达式中空参数包的特殊处理

一元折叠表达式对空参数包展开有一些特殊规则，这是因为编译器很难确定折叠表达式最终的求值类型，比如：

```txt
template<typename...Args> auto sum(Args...args)
```

```txt
return(args + ...);
```

在上面的代码中，如果函数模板sum的实参为空，那么表达式args +...是无法确定求值类型的。当然，二元折叠表达式不会有这种情况，因为它可以指定一个初始化值：

```txt
template<typename...Args> auto sum(args...args) {
    return (args + ... + 0);
}
```

这样即使参数包为空，表达式的求值结果类型依然可以确定，编译器可以顺利地执行编译。为了解决一元折叠表达式中参数包为空的问题，下面的规则是必须遵守的。

1. 只有&&、||和,运算符能够在空参数包的一元折叠表达式中使用。  
2. &&的求值结果一定为true。  
3. ||的求值结果一定为false。  
4. , 的求值结果为void()。  
5. 其他运算符都是非法的。

```txt
include<iostream> template<typename...Args> auto andop(Args...args)
```

```cpp
{ return(args&&...);   
}   
int main()   
{ std::cout<<std::boolalpha<<andop();
```

在上面的代码中，虽然函数模板andop的参数包为空，但是依然能成功地编译运行并且输出计算结果true。

