# 34.8 调用伪析构函数结束对象声明周期（C++20）

C++20标准完善了调用伪析构函数结束对象声明周期的规则。在过去，调用伪析构函数会根据对象的不同执行不同的行为，例如：

```cpp
template<typename T> void destroy(T* p) {
    p->~T();
}
```

在上面的代码中，当T是非平凡类型时，p->~T();会结束对象声明周期；相反而T为平凡类型时，比如int类型，p->~T();会被当成无效语句。C++20标准修补了这种行为不一致的规则，它规定伪析构函数的调用总是会结束对象的生命周期，即使对象是一个平凡类型。

